# WSL バックアップ設定ファイル v2.0
# このファイルを編集してバックアップ設定をカスタマイズしてください
@{
    # ============================================================================
    # 基本設定
    # ============================================================================

    # WSLディストリビューション名（wsl -l -v で確認可能）
    WslDistro = 'Ubuntu'

    # バックアップソース（複数指定可能）
    # 単一ディレクトリの場合: Sources = @('/home/aoki/projects')
    # 複数ディレクトリの場合: Sources = @('/home/aoki/projects', '/home/aoki/.config')
    Sources = @(
        '/home/aoki/projects'
    )

    # Windows側のバックアップ先ルートディレクトリ
    DestRoot = 'C:\Users\aoki\Dropbox\Projects_wsl'

    # ============================================================================
    # 保持期間設定
    # ============================================================================

    # アーカイブを保持する日数（0 = すべて保持）
    KeepDays = 15

    # ログファイルを保持する日数（0 = すべて保持）
    LogKeepDays = 30

    # ============================================================================
    # 実行設定
    # ============================================================================

    # 管理者権限が必要な場合、自動的に昇格するか
    # $true = UACダイアログを表示して昇格
    # $false = 昇格しない、エラーで終了
    AutoElevate = $true

    # robocopyのスレッド数（0 = 自動、CPUコア数に基づいて決定）
    ThreadCount = 0

    # 帯域制限（Mbps）（0 = 無制限）
    # ネットワークドライブへのバックアップ時に有用
    BandwidthLimitMbps = 0

    # ============================================================================
    # ディスク・検証設定
    # ============================================================================

    # 必要な空きディスク容量（GB）（0 = チェックしない）
    RequiredFreeSpaceGB = 10

    # アーカイブ作成後に整合性検証を行うか
    VerifyArchive = $true

    # チェックサムを保存するか（SHA256）
    SaveChecksums = $true

    # ============================================================================
    # アーカイブ設定
    # ============================================================================

    # 圧縮レベル（1-9）
    # 1 = 最速（圧縮率低）、9 = 最小（圧縮率高）、6 = バランス
    CompressionLevel = 6

    # 増分バックアップの基準日数
    # この日数ごとにフルバックアップを作成し、その間は増分バックアップ
    # -Incremental オプション使用時に適用
    IncrementalBaseDays = 7

    # ============================================================================
    # 暗号化設定
    # ============================================================================

    # アーカイブを暗号化するか（AES-256-CBC）
    EnableEncryption = $false

    # 暗号化パスワード（EnableEncryption = $true の場合に必須）
    # 注意: このファイルを安全な場所に保管してください
    # 環境変数を使用することも可能: $env:BACKUP_PASSWORD
    EncryptionPassword = ''

    # ============================================================================
    # 通知設定
    # ============================================================================

    # バックアップ完了時にWindows通知を表示するか
    ShowNotification = $true

    # Webhook通知URL（Slack、Discord、Teams等）
    # 空の場合は通知しない
    # Slack例: 'https://hooks.slack.com/services/xxx/yyy/zzz'
    NotificationWebhook = ''

    # メール通知先アドレス
    # 空の場合は通知しない
    NotificationEmail = ''

    # SMTPサーバー設定（メール通知使用時に必須）
    SmtpServer = ''
    SmtpPort = 587
    SmtpFrom = ''

    # ============================================================================
    # レポート設定
    # ============================================================================

    # 変更レポートを生成するか
    # 各バックアップ後に新規・変更・削除されたファイルの一覧を出力
    GenerateChangeReport = $true
}
